/* frontend/src/style.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================================================
   1. Cross-Browser Normalization (Chrome & Edge Consistency)
   브라우저 간 폰트 렌더링, 스크롤바, 레이아웃 계산 방식을 강제 통일합니다.
   ========================================================================== */

:root {
  /* 폰트 렌더링 방식 강제 통일: Windows Edge에서 폰트가 굵게 퍼지는 현상 방지 */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  
  /* [수정됨] 텍스트 렌더링 최적화: 가독성보다 기하학적 정밀도(너비)를 우선시하여 Edge 레이아웃 깨짐 방지 */
  text-rendering: geometricPrecision;
  
  /* [추가됨] 브라우저가 임의로 폰트 굵기나 스타일을 합성하는 것을 방지 */
  font-synthesis: none;
  
  /* 모바일/태블릿 등에서 브라우저가 글자를 임의로 확대하는 것 방지 */
  -webkit-text-size-adjust: 100%;
  -moz-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  text-size-adjust: 100%;
  
  /* 스크롤바 안정화: 스크롤바 유무에 따른 레이아웃 흔들림(Layout Shift) 방지 */
  scrollbar-gutter: stable;
}

html, body {
  /* 시스템 폰트보다 'Inter'가 무조건 최우선 적용되도록 !important 사용 */
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif !important;
  
  /* 폰트 크기 및 줄 간격 베이스 라인 고정 */
  font-size: 16px;
  line-height: 1.5;
  
  /* [수정됨] 텍스트 기본 색상 및 자간(tracking-tight) 적용하여 Edge에서 글자 퍼짐 상쇄 */
  @apply text-slate-900 dark:text-slate-100 tracking-tight;
  
  /* 가로 스크롤 방지 */
  overflow-x: hidden;
}

/* Chrome, Edge, Safari 등 WebKit 기반 브라우저 스크롤바 디자인 통일 */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}
.dark ::-webkit-scrollbar-thumb {
  background: #3f3f46;
}
.dark ::-webkit-scrollbar-thumb:hover {
  background: #52525b;
}

/* ==========================================================================
   2. PrimeVue Component Overrides (Layout Fixes)
   PrimeVue 컴포넌트들의 높이 계산 및 정렬 오차를 수정합니다.
   ========================================================================== */

/* 버튼: 브라우저마다 다른 line-height 기본값을 무시하고 강제 통일 */
.p-button {
  @apply !flex !items-center !justify-center;
  line-height: 1.2 !important; /* 아이콘과 텍스트 수직 정렬 오차 제거 */
}

/* 버튼 아이콘 위치 미세 조정 (폰트 렌더링 차이 보정) */
.p-button-icon {
  margin-top: -1px; 
}

/* 입력 필드 및 셀렉트: 높이 계산 방식 통일 (User Agent 스타일 무시) */
.p-inputtext, 
.p-select {
  line-height: normal !important; 
  box-sizing: border-box !important;
}

/* 드롭다운 패널 폰트 사이즈 고정 (Zoom 배율 영향 최소화) */
.p-select-option, 
.p-dropdown-item {
  font-family: inherit !important;
  -webkit-font-smoothing: antialiased;
}

/* ==========================================================================
   3. Custom Utility Classes & Icons
   프로젝트 전용 커스텀 스타일 정의
   ========================================================================== */

/* 커스텀 아이콘: 중괄호 { } 모양 */
.pi-curly-braces {
  display: inline-block;
  width: 1em;          
  text-align: center;  /* 지정된 너비 안에서 중앙 정렬 */
  font-style: normal;
  line-height: 1;
}

/* 실제 아이콘 모양 (가상 요소) */
.pi-curly-braces:before {
  content: "{}";       /* 괄호 사이 공백을 제거하여 컴팩트하게 만듦 */
  font-family: monospace;
  font-weight: 800;    /* 굵기 조정 */
  font-size: 0.9em;    /* 폰트 크기 미세 조정하여 아이콘 크기와 맞춤 */
  letter-spacing: -1px;/* 자간을 좁혀서 아이콘처럼 보이게 함 */
  display: inline-block;
  transform: scaleY(1.1); /* 세로로 살짝 길게 늘려 아이콘 비율 맞춤 */
}

/* PrimeVue DataTable 헤더 스타일 커스터마이징 */
:deep(.p-datatable-thead > tr > th) {
  @apply font-extrabold text-xs text-slate-500 dark:text-slate-400 bg-transparent uppercase tracking-wider py-3 border-b border-slate-200 dark:border-zinc-700;
}
